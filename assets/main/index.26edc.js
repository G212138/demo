window.__require=function t(n,e,o){function i(a,c){if(!e[a]){if(!n[a]){var s=a.split("/");if(s=s[s.length-1],!n[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=e[a]={exports:{}};n[a][0].call(l.exports,function(t){return i(n[a][1][t]||t)},l,l.exports,t,n,e,o)}return e[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({AnswerBox:[function(t,n,e){"use strict";cc._RF.push(n,"9f26eXUcZtAfZNbOrrQRBuQ","AnswerBox");var o,i=this&&this.__extends||(o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),r=this&&this.__decorate||function(t,n,e,o){var i,r=arguments.length,a=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(n,e,a):i(n,e))||a);return r>3&&a&&Object.defineProperty(n,e,a),a};Object.defineProperty(e,"__esModule",{value:!0});var a=t("./Manager/ListenerManager"),c=t("./Manager/SoundManager"),s=cc._decorator,u=s.ccclass,l=s.property,d=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.answer=0,n.EditBoxIndex=0,n.spriteFrame=[],n._isEditting=!1,n}return i(n,t),n.prototype.onLoad=function(){a.ListenerManager.on("onTouchNumber",this.onInputNumber,this),a.ListenerManager.on("onEditBoxDidBegin",this.handleEditState,this),a.ListenerManager.on("onDeleteNumber",this.onDeleteNumber,this),a.ListenerManager.on("onConfirmNumber",this.onCheckAnswer,this)},n.prototype.onDestroy=function(){a.ListenerManager.off("onTouchNumber",this.onInputNumber,this),a.ListenerManager.off("onEditBoxDidBegin",this.handleEditState,this),a.ListenerManager.off("onDeleteNumber",this.onDeleteNumber,this),a.ListenerManager.off("onConfirmNumber",this.onCheckAnswer,this)},n.prototype.onInputNumber=function(t){var n=this.node.getComponentInChildren(cc.Label);this._isEditting&&(n.string=n.string+t.toString(),this.EditBoxIndex<5&&a.ListenerManager.dispatch("onShowResult"))},n.prototype.handleEditState=function(t){c.SoundManager.playSound("F_DEMO_0101"),this._isEditting=t==this.EditBoxIndex,this.changeEditBoxSprite(this._isEditting?1:0)},n.prototype.onDeleteNumber=function(){var t=this.node.getComponentInChildren(cc.Label);this._isEditting&&(t.string=t.string.slice(0,-1),this.EditBoxIndex<5&&a.ListenerManager.dispatch("onShowResult"))},n.prototype.eidtBoxDidBegin=function(){a.ListenerManager.dispatch("onEditBoxDidBegin",this.EditBoxIndex),this.changeEditBoxSprite(1)},n.prototype.onCheckAnswer=function(){var t=this,n=this.node.getComponentInChildren(cc.Label);n.string==this.answer.toString()?(c.SoundManager.playSound("F_DEMO_0103"),this.changeEditBoxSprite(0),a.ListenerManager.dispatch("onEditBoxDidBegin",this.EditBoxIndex+1)):""!=n.string&&(c.SoundManager.playSound("F_DEMO_0102"),n.node.color=cc.Color.RED,cc.tween(n.node).to(.1,{scale:1.1}).to(.1,{scale:1}).to(.1,{scale:1.1}).to(.1,{scale:1}).call(function(){n.node.color=(new cc.Color).fromHEX("#008000"),n.string=""}).start()),cc.tween(this.node).delay(.5).call(function(){t.EditBoxIndex<5&&a.ListenerManager.dispatch("onShowResult")}).start()},n.prototype.changeEditBoxSprite=function(t){this.node.getComponentInChildren(cc.Sprite).spriteFrame=this.spriteFrame[t]},n.prototype.checkAnswer=function(){var t=this,n=this.node.getComponentInChildren(cc.Label);return n.string==this.answer.toString()?(this.changeEditBoxSprite(0),a.ListenerManager.dispatch("onEditBoxDidBegin",this.EditBoxIndex+1)):(this.node.color=cc.Color.RED,cc.tween(this.node).to(.1,{scale:1.1}).to(.1,{scale:1}).to(.1,{scale:1.1}).to(.1,{scale:1}).call(function(){t.node.color=(new cc.Color).fromHEX("#008000"),n.string=""}).start()),cc.tween(this.node).delay(.5).call(function(){t.EditBoxIndex<5&&a.ListenerManager.dispatch("onShowResult")}).start(),n.string==this.answer.toString()},n.prototype.clearAnswer=function(){this.node.getComponentInChildren(cc.Label).string="",a.ListenerManager.dispatch("onShowResult")},r([l(Number)],n.prototype,"answer",void 0),r([l(Number)],n.prototype,"EditBoxIndex",void 0),r([l(cc.SpriteFrame)],n.prototype,"spriteFrame",void 0),r([u],n)}(cc.Component);e.default=d,cc._RF.pop()},{"./Manager/ListenerManager":"ListenerManager","./Manager/SoundManager":"SoundManager"}],ConstValue:[function(t,n,e){"use strict";cc._RF.push(n,"9e2c1p69dlD2I7V/NKTGnTt","ConstValue"),Object.defineProperty(e,"__esModule",{value:!0}),e.ConstValue=void 0;var o=function(){function t(){}return t.AUDIO_DIR="audios/",t}();e.ConstValue=o,cc._RF.pop()},{}],GamePanel:[function(t,n,e){"use strict";cc._RF.push(n,"b3b0eO3B1ROYYBauyMu3Awg","GamePanel");var o,i=this&&this.__extends||(o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),r=this&&this.__decorate||function(t,n,e,o){var i,r=arguments.length,a=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(n,e,a):i(n,e))||a);return r>3&&a&&Object.defineProperty(n,e,a),a};Object.defineProperty(e,"__esModule",{value:!0});var a=t("./AnswerBox"),c=t("./Manager/ListenerManager"),s=t("./Manager/SoundManager"),u=cc._decorator,l=u.ccclass,d=u.property,p=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.node_lifangti=null,n.node_fenli=null,n.node_start=null,n.node_again=null,n.node_input=[],n.node_lifangti_light=[],n.node_fenli_light=[],n.label_result=null,n._curIndex=0,n._maxIndex=8,n._lifangtiOriginalPos=[cc.v2(0,70),cc.v2(0,23),cc.v2(0,-23),cc.v2(0,-70)],n._lifangtiPos=[cc.v2(0,170),cc.v2(0,80),cc.v2(0,-10),cc.v2(0,-100)],n}return i(n,t),n.prototype.onLoad=function(){c.ListenerManager.on("onShowResult",this.onShowResult,this)},n.prototype.onDestroy=function(){c.ListenerManager.off("onShowResult",this.onShowResult,this)},n.prototype.initUI=function(){s.SoundManager.stopAll(),s.SoundManager.playSound("V_DEMO_0101",!1,1,function(){s.SoundManager.playSound("V_DEMO_0102",!1,1,function(){s.SoundManager.playSound("M_DEMO_0101",!0)})}),c.ListenerManager.dispatch("onEditBoxDidBegin",1),this._curIndex=0,this.handleClickStep(),this.node_input.forEach(function(t){t.getComponent(a.default).clearAnswer()})},n.prototype.resetUI=function(){c.ListenerManager.dispatch("onEditBoxDidBegin",1),this._curIndex=0,this.handleClickStep(),this.node_input.forEach(function(t){t.getComponent(a.default).clearAnswer()})},n.prototype.changeLifangti=function(){this.node_lifangti.active=!0,this.node_fenli.active=!1,this.node_lifangti_light.forEach(function(t){t.active=!1}),0!=this._curIndex&&(this.node_lifangti_light[this._curIndex-1].active=!0)},n.prototype.fenliLifangti=function(){this.restLifangtiPos(),this.node_lifangti.active=!1,this.node_fenli.active=!0;for(var t=0;t<this.node_fenli_light.length;t++)cc.tween(this.node_fenli_light[t].parent).to(.5,{x:this._lifangtiPos[t].x,y:this._lifangtiPos[t].y}).start();this.changeFenli()},n.prototype.restLifangtiPos=function(){for(var t=0;t<this.node_fenli_light.length;t++)this.node_fenli_light[t].parent.x=this._lifangtiOriginalPos[t].x,this.node_fenli_light[t].parent.y=this._lifangtiOriginalPos[t].y},n.prototype.changeFenli=function(){this.node_lifangti.active=!1,this.node_fenli.active=!0,this.node_fenli_light.forEach(function(t){t.active=!1}),this.node_fenli_light[this._curIndex-5].active=!0},n.prototype.onClickBack=function(){s.SoundManager.playSound("F_DEMO_0101"),0!=this._curIndex&&(this._curIndex--,this.handleClickStep())},n.prototype.onClickNext=function(){s.SoundManager.playSound("F_DEMO_0101"),this._curIndex!=this._maxIndex&&(this._curIndex++,this.handleClickStep(!0))},n.prototype.handleClickStep=function(t){void 0===t&&(t=!1),this._curIndex<5?this.changeLifangti():5==this._curIndex&&t?this.fenliLifangti():this.changeFenli()},n.prototype.onDeleteNumber=function(){s.SoundManager.playSound("F_DEMO_0101"),c.ListenerManager.dispatch("onDeleteNumber")},n.prototype.onConfirmNumber=function(){c.ListenerManager.dispatch("onConfirmNumber")},n.prototype.onCheckResult=function(){var t=!0;this.node_input.forEach(function(n){n.getComponent(a.default).checkAnswer()||(t=!1)}),t?this.node_again.active=!0:s.SoundManager.playSound("F_DEMO_0102")},n.prototype.onStartGame=function(){this.node_start.active=!1,this.initUI()},n.prototype.onPlayAgain=function(){this.node_again.active=!1,this.node_start.active=!0,s.SoundManager.stopAll(),this.resetUI()},n.prototype.onShowResult=function(){for(var t="",n=0,e=0;e<4;e++){var o=this.node_input[e].getComponentInChildren(cc.Label);""!=o.string&&(n>0&&(t+="+"),t+=o.string,n++)}this.label_result.string=t},r([d(cc.Node)],n.prototype,"node_lifangti",void 0),r([d(cc.Node)],n.prototype,"node_fenli",void 0),r([d(cc.Node)],n.prototype,"node_start",void 0),r([d(cc.Node)],n.prototype,"node_again",void 0),r([d(cc.Node)],n.prototype,"node_input",void 0),r([d(cc.Node)],n.prototype,"node_lifangti_light",void 0),r([d(cc.Node)],n.prototype,"node_fenli_light",void 0),r([d(cc.Label)],n.prototype,"label_result",void 0),r([l],n)}(cc.Component);e.default=p,cc._RF.pop()},{"./AnswerBox":"AnswerBox","./Manager/ListenerManager":"ListenerManager","./Manager/SoundManager":"SoundManager"}],Keyboard:[function(t,n,e){"use strict";cc._RF.push(n,"d9e70f+3ZtNkoNIRuekq9J/","Keyboard");var o,i=this&&this.__extends||(o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),r=this&&this.__decorate||function(t,n,e,o){var i,r=arguments.length,a=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(n,e,a):i(n,e))||a);return r>3&&a&&Object.defineProperty(n,e,a),a};Object.defineProperty(e,"__esModule",{value:!0});var a=t("./Manager/ListenerManager"),c=t("./Manager/SoundManager"),s=cc._decorator,u=s.ccclass,l=s.property,d=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.number=0,n}return i(n,t),n.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchNumber,this)},n.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchNumber,this)},n.prototype.onTouchNumber=function(){c.SoundManager.playSound("F_DEMO_0101"),a.ListenerManager.dispatch("onTouchNumber",this.number)},r([l(Number)],n.prototype,"number",void 0),r([u],n)}(cc.Component);e.default=d,cc._RF.pop()},{"./Manager/ListenerManager":"ListenerManager","./Manager/SoundManager":"SoundManager"}],ListenerManager:[function(t,n,e){"use strict";cc._RF.push(n,"de4ba1acztGuLQoYnBmZ3yV","ListenerManager"),Object.defineProperty(e,"__esModule",{value:!0}),e.ListenerManager=void 0;var o=function(){function t(){this.handle={}}return t.getInstance=function(){return null===this._instance&&(this._instance=new t),this._instance},t.prototype.on=function(t,n,e){if(!this.hasEvent(t,n,e)){this.handle[t]||(this.handle[t]=[]);var o={func:n,target:e};this.handle[t].push(o)}},t.prototype.off=function(t,n,e){var o=this.handle[t];if(o&&!(o.length<=0))for(var i=0;i<o.length;i++){var r=o[i];if(n==r.func&&(!e||e==r.target)){o.splice(i,1);break}}},t.prototype.dispatch=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var o=this.handle[t];if(o&&!(o.length<=0))for(var i=0;i<o.length;i++){var r=o[i];r.func.apply(r.target,n)}},t.prototype.removeAll=function(t){if(t)for(var n in this.handle)for(var e=0,o=(i=this.handle[n]).length;e<o;e++)i[e].target==t&&(i.splice(e,1),o>0&&o--,e--);else for(var n in this.handle)for(var i=this.handle[n];i.length>0;)i.pop()},t.prototype.hasEvent=function(t,n,e){var o=this.handle[t];if(!o||o.length<=0)return!1;for(var i=0;i<o.length;i++){var r=o[i];if(n==r.func&&(!e||e==r.target))return!0}return!1},t._instance=null,t}();e.ListenerManager=o.getInstance(),cc._RF.pop()},{}],SoundManager:[function(t,n,e){"use strict";cc._RF.push(n,"2db56TVOKpEdKKA6WwCqZ/M","SoundManager"),Object.defineProperty(e,"__esModule",{value:!0}),e.SoundManager=void 0;var o=t("../Data/ConstValue"),i=function(){function t(){}return t.playSound=function(t,n,e,i){void 0===n&&(n=!1),void 0===e&&(e=1),void 0===i&&(i=null);var r=o.ConstValue.AUDIO_DIR+t;cc.resources.load(r,cc.AudioClip,function(o,r){var a=this;if(o)cc.error(o);else{var c=r,s=cc.audioEngine.play(c,n,e);this.playing_sound[t]=s,i&&cc.audioEngine.setFinishCallback(s,function(){a.playing_sound[t]=-1,i()})}}.bind(this))},t.stopSound=function(t){var n=this.playing_sound[t];null!=n&&-1!=n&&this.stopSoundById(n)},t.stopSoundById=function(t){cc.audioEngine.stop(t)},t.stopAll=function(t){if(t){for(var n in this.playing_sound)if(-1==t.indexOf(n)){var e=this.playing_sound[n];this.stopSoundById(e),this.playing_sound[n]=-1}}else{for(var n in this.playing_sound)this.playing_sound[n]=-1;cc.audioEngine.stopAll()}},t.isPlaying=function(t){return null!=this.playing_sound[t]&&-1!=this.playing_sound[t]},t.playing_sound=new Object,t}();e.SoundManager=i,cc._RF.pop()},{"../Data/ConstValue":"ConstValue"}]},{},["AnswerBox","ConstValue","GamePanel","Keyboard","ListenerManager","SoundManager"]);